<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Quotation - TSIRIN MOTORS LIMITED</title>
<style>
body {
  font-family: Arial, sans-serif;
  margin: 0;
  padding: 20px;
  background: #fff;
  color: #000;
}

.header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  border-bottom: 3px solid #000;
  padding-bottom: 10px;
}

.header img {
  width: 80px;
  height: auto;
}

.header h1 {
  font-size: 28px;
  text-transform: uppercase;
}

.details {
  margin-top: 10px;
  display: flex;
  justify-content: space-between;
}

.details div {
  width: 48%;
}

table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 20px;
}

th, td {
  border: 1px solid #000;
  padding: 8px;
  font-size: 14px;
}

th {
  background: #000;
  color: #fff;
}

.footer {
  margin-top: 20px;
  font-size: 14px;
}

.totals {
  margin-top: 20px;
  text-align: right;
}

.totals p {
  margin: 5px 0;
}

button {
  margin-top: 20px;
  padding: 10px 20px;
  background: #0066cc;
  color: #fff;
  border: none;
  border-radius: 5px;
  cursor: pointer;
}

button:hover {
  background: #004c99;
}

@media print {
  button {
    display: none;
  }
  body {
    width: 210mm;
    height: 297mm;
    margin: 0;
    padding: 20mm;
  }
}
</style>
</head>
<body>
<div class="header">
  <img src="logo.png" alt="Company Logo">
  <h1>Quotation</h1>
</div>

<div class="details">
  <div>
    <p><strong>TSIRIN MOTORS LIMITED</strong></p>
    <p>PO Box 67, Buka, ARoB, PNG</p>
    <p>Tel: 70396700 | E: nsukaliana@gmail.com</p>
    <p><strong>QUOTE TO:</strong> Customer</p>
  </div>
  <div>
    <p><strong>QUOTATION #:</strong> QU20251117-1</p>
    <p><strong>Date:</strong> 17/11/2025</p>
    <p><strong>Customer ID:</strong> [Customer ID]</p>
    <p><strong>Due Date:</strong> [Due Date]</p>
  </div>
</div>

<table>
  <thead>
    <tr>
      <th>Description</th>
      <th>Qty</th>
      <th>Unit Price</th>
      <th>Amount</th>
    </tr>
  </thead>
  <tbody id="quote-items">
    <!-- Items will be inserted dynamically -->
  </tbody>
</table>

<div class="totals">
  <p><strong>Subtotal:</strong> K<span id="subtotal">0.00</span></p>
  <p><strong>Tax (10%):</strong> K<span id="tax">0.00</span></p>
  <h3>Total: K<span id="total">0.00</span></h3>
</div>

<div class="footer">
  <p><strong>Account Details:</strong></p>
  <p>Bank: Bank South Pacific</p>
  <p>Account Name: TSIRIN MOTORS LIMITED</p>
  <p>Account Number: 102964300</p>
  <p>TIN #: 500036089</p>
  <p>Thank you for your business!</p>
</div>

<button onclick="window.print()">Print Quotation</button>

<script>
const quoteItems = JSON.parse(localStorage.getItem('quoteItems') || '[]');
const tbody = document.getElementById('quote-items');
let subtotal = 0;

quoteItems.forEach(item => {
  const qty = parseInt(item.quantity || 1);
  const price = parseFloat(item.price) || 0;
  const amount = qty * price;
  subtotal += amount;

  const row = document.createElement('tr');
  row.innerHTML = `
    <td>${item.description}</td>
    <td>${qty}</td>
    <td>K${price.toFixed(2)}</td>
    <td>K${amount.toFixed(2)}</td>
  `;
  tbody.appendChild(row);
});

const tax = subtotal * 0.10;
const total = subtotal + tax;

document.getElementById('subtotal').textContent = subtotal.toFixed(2);
document.getElementById('tax').textContent = tax.toFixed(2);
document.getElementById('total').textContent = total.toFixed(2);
</script>
</body>
</html>